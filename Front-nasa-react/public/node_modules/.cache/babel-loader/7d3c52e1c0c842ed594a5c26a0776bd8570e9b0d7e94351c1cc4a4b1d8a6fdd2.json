{"ast":null,"code":"import _regeneratorRuntime from\"/Users/SergioIglesias/nytype/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/SergioIglesias/nytype/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/SergioIglesias/nytype/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{getNewYorkBooks,getListDetails}from\"../../../services/api\";import Card from'../../card/index';import{ThemeProvider}from\"styled-components\";import theme from'../../styles/theme';import{CustomButton}from\"../../button/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){// function App() {\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dataDetails=_useState4[0],setDataDetails=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showList=_useState6[0],setShowList=_useState6[1];useEffect(function(){getNewYorkBooks().then(function(data){if(data){setData(data);}});},[]);var callListDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(listName){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getListDetails(listName);case 2:data=_context.sent;console.log(data);setDataDetails(data);setShowList(false);case 6:case\"end\":return _context.stop();}},_callee);}));return function callListDetails(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cards\",children:[showList&&(data===null||data===void 0?void 0:data.map(function(bookList){return/*#__PURE__*/_jsx(Card,{title:bookList.display_name,updatedDes:bookList.updated,oldestDes:bookList.oldest_published_date,newestDes:bookList.newest_published_date,listName:bookList.list_name_encoded,image:bookList.image_url,onClick:function onClick(){return callListDetails(bookList.list_name_encoded);}});})),!showList&&(dataDetails===null||dataDetails===void 0?void 0:dataDetails.map(function(listDetails){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-details\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:listDetails.book_image}),/*#__PURE__*/_jsx(\"p\",{children:listDetails.title}),/*#__PURE__*/_jsx(\"p\",{children:listDetails.description})]}),/*#__PURE__*/_jsx(CustomButton,{children:/*#__PURE__*/_jsx(\"div\",{className:\"amazonLink\",children:/*#__PURE__*/_jsx(\"a\",{target:\"blank\",rel:\"noreferrer\",className:\"amazonText\",href:listDetails.amazon_product_url,children:\"Amazon\"})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowList(true);},children:\"Back\"})]})});}))]})})})});};export default Home;","map":{"version":3,"names":["useState","useEffect","getNewYorkBooks","getListDetails","Card","ThemeProvider","theme","CustomButton","Home","data","setData","dataDetails","setDataDetails","showList","setShowList","then","callListDetails","listName","console","log","map","bookList","display_name","updated","oldest_published_date","newest_published_date","list_name_encoded","image_url","listDetails","book_image","title","description","amazon_product_url"],"sources":["/Users/SergioIglesias/nytype/src/components/views/Home/index.tsx"],"sourcesContent":["import { FC } from \"react\";\nimport {useState, useEffect } from 'react';\nimport { BooksList, getNewYorkBooks, getListDetails} from \"../../../services/api\"\nimport Card from '../../card/index';\nimport { ThemeProvider } from \"styled-components\";\nimport theme from '../../styles/theme'\nimport { CustomButton } from \"../../button/styles\"\n\n\nconst Home: FC = () => {\n  \n// function App() {\n    const [data, setData] = useState<BooksList[]>([])\n    const [dataDetails, setDataDetails] = useState<any[]>([])\n    const [showList, setShowList] = useState<boolean>(true)\n    useEffect(() => {\n      getNewYorkBooks().then(data => {\n        if (data) {\n          setData(data)\n        }\n      })\n    \n     }, [])\n  \n    const callListDetails = async (listName: string) => {\n        const data = await getListDetails(listName)\n        console.log(data)\n        setDataDetails(data)\n        setShowList(false)\n    }\n  \n    return (\n      <ThemeProvider theme = {theme}>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div className='cards'>\n            {showList && data?.map(bookList => (\n              <Card \n                title={bookList.display_name} \n                updatedDes={bookList.updated} \n                oldestDes={bookList.oldest_published_date} \n                newestDes={bookList.newest_published_date} \n                listName={bookList.list_name_encoded}\n                image={bookList.image_url}\n                onClick={() => callListDetails(bookList.list_name_encoded)}\n              />\n            ))}\n            {!showList && dataDetails?.map(listDetails => (\n              <>\n              <div className=\"container-details\">\n             <div>\n             <img src={listDetails.book_image} /> \n                <p>{listDetails.title}</p>\n                <p>{listDetails.description}</p>\n             </div>\n                <CustomButton>\n                <div className='amazonLink'><a target=\"blank\" rel=\"noreferrer\" className=\"amazonText\"href={listDetails.amazon_product_url}>Amazon</a></div>\n       \n                </CustomButton>\n              <br />\n             \n              <button onClick={() => setShowList(true)}>Back</button>\n             \n              </div>\n              </>\n              \n            ))}\n          </div>\n        </header>\n      </div>\n      </ThemeProvider>\n    );\n    }\nexport default Home"],"mappings":"sWACA,OAAQA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC1C,OAAoBC,eAAe,CAAEC,cAAc,KAAO,uBAAuB,CACjF,MAAOC,KAAI,KAAM,kBAAkB,CACnC,OAASC,aAAa,KAAQ,mBAAmB,CACjD,MAAOC,MAAK,KAAM,oBAAoB,CACtC,OAASC,YAAY,KAAQ,qBAAqB,8IAGlD,GAAMC,KAAQ,CAAG,QAAXA,KAAQ,EAAS,CAEvB;AACI,cAAwBR,QAAQ,CAAc,EAAE,CAAC,wCAA1CS,IAAI,eAAEC,OAAO,eACpB,eAAsCV,QAAQ,CAAQ,EAAE,CAAC,yCAAlDW,WAAW,eAAEC,cAAc,eAClC,eAAgCZ,QAAQ,CAAU,IAAI,CAAC,yCAAhDa,QAAQ,eAAEC,WAAW,eAC5Bb,SAAS,CAAC,UAAM,CACdC,eAAe,EAAE,CAACa,IAAI,CAAC,SAAAN,IAAI,CAAI,CAC7B,GAAIA,IAAI,CAAE,CACRC,OAAO,CAACD,IAAI,CAAC,CACf,CACF,CAAC,CAAC,CAEH,CAAC,CAAE,EAAE,CAAC,CAEP,GAAMO,gBAAe,4FAAG,iBAAOC,QAAgB,kJACxBd,eAAc,CAACc,QAAQ,CAAC,QAArCR,IAAI,eACVS,OAAO,CAACC,GAAG,CAACV,IAAI,CAAC,CACjBG,cAAc,CAACH,IAAI,CAAC,CACpBK,WAAW,CAAC,KAAK,CAAC,sDACrB,kBALKE,gBAAe,4CAKpB,CAED,mBACE,KAAC,aAAa,EAAC,KAAK,CAAIV,KAAM,uBAC9B,YAAK,SAAS,CAAC,KAAK,uBAClB,eAAQ,SAAS,CAAC,YAAY,uBAC5B,aAAK,SAAS,CAAC,OAAO,WACnBO,QAAQ,GAAIJ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEW,GAAG,CAAC,SAAAC,QAAQ,qBAC7B,KAAC,IAAI,EACH,KAAK,CAAEA,QAAQ,CAACC,YAAa,CAC7B,UAAU,CAAED,QAAQ,CAACE,OAAQ,CAC7B,SAAS,CAAEF,QAAQ,CAACG,qBAAsB,CAC1C,SAAS,CAAEH,QAAQ,CAACI,qBAAsB,CAC1C,QAAQ,CAAEJ,QAAQ,CAACK,iBAAkB,CACrC,KAAK,CAAEL,QAAQ,CAACM,SAAU,CAC1B,OAAO,CAAE,yBAAMX,gBAAe,CAACK,QAAQ,CAACK,iBAAiB,CAAC,EAAC,EAC3D,EACH,CAAC,EACD,CAACb,QAAQ,GAAIF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAES,GAAG,CAAC,SAAAQ,WAAW,qBACxC,sCACA,aAAK,SAAS,CAAC,mBAAmB,wBACnC,oCACA,YAAK,GAAG,CAAEA,WAAW,CAACC,UAAW,EAAG,cACjC,mBAAID,WAAW,CAACE,KAAK,EAAK,cAC1B,mBAAIF,WAAW,CAACG,WAAW,EAAK,GAC7B,cACH,KAAC,YAAY,wBACb,YAAK,SAAS,CAAC,YAAY,uBAAC,UAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC,YAAY,KAAI,CAAEH,WAAW,CAACI,kBAAmB,UAAC,QAAM,EAAI,EAAM,EAE5H,cACjB,aAAM,cAEN,eAAQ,OAAO,CAAE,yBAAMlB,YAAW,CAAC,IAAI,CAAC,EAAC,UAAC,MAAI,EAAS,GAEjD,EACH,EAEJ,CAAC,IACE,EACC,EACL,EACU,CAElB,CAAC,CACL,cAAeN,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}