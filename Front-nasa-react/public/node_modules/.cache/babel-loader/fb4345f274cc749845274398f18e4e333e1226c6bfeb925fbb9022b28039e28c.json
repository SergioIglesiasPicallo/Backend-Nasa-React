{"ast":null,"code":"import { getData, setData } from \"./storage\";\nexport const getBooks = async () => {\n  let list = getData();\n  if (!list) {\n    try {\n      fetch('https://api.nytimes.com/svc/books/v3/lists/names.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB');\n      const bookLists = await response.json();\n      if (bookLists && bookLists.num_results) {\n        setData(bookLists.results);\n        list = bookLists.results;\n      }\n    } catch (error) {\n      console.error(error);\n      return [console.log(list)];\n    }\n  }\n  console.log(list);\n  return list;\n};","map":{"version":3,"names":["getData","setData","getBooks","list","fetch","bookLists","response","json","num_results","results","error","console","log"],"sources":["/Users/SergioIglesias/nytype/src/services/api.ts"],"sourcesContent":["import { getData, setData } from \"./storage\"\n\nexport const getBooks = async () => {\n    let list = getData()\n\n    if (!list) {\n        try {\n         fetch('https://api.nytimes.com/svc/books/v3/lists/names.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB')\n            const bookLists = await response.json()\n            if (bookLists && bookLists.num_results) {\n                setData(bookLists.results)\n                list = bookLists.results\n                \n\n            }\n            \n        } catch (error) {\n            console.error(error)\n            return[console.log(list)]\n        }\n    }\n    console.log(list)\n    \n    return list\n}\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,OAAO,QAAQ,WAAW;AAE5C,OAAO,MAAMC,QAAQ,GAAG,YAAY;EAChC,IAAIC,IAAI,GAAGH,OAAO,EAAE;EAEpB,IAAI,CAACG,IAAI,EAAE;IACP,IAAI;MACHC,KAAK,CAAC,gGAAgG,CAAC;MACpG,MAAMC,SAAS,GAAG,MAAMC,QAAQ,CAACC,IAAI,EAAE;MACvC,IAAIF,SAAS,IAAIA,SAAS,CAACG,WAAW,EAAE;QACpCP,OAAO,CAACI,SAAS,CAACI,OAAO,CAAC;QAC1BN,IAAI,GAAGE,SAAS,CAACI,OAAO;MAG5B;IAEJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB,OAAM,CAACC,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC,CAAC;IAC7B;EACJ;EACAQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC;EAEjB,OAAOA,IAAI;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}