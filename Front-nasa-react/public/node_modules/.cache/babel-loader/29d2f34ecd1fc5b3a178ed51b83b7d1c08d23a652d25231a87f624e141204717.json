{"ast":null,"code":"import { getData, setData } from \"./storage\";\nexport const fetchData = async () => {\n  let books = getData();\n  if (!books || books.length === 0) {\n    try {\n      const response = await fetch('https://api.nytimes.com/svc/books/v3/lists/names.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB');\n      const data = await response.json();\n      const results = data.results;\n      if (results && results.length > 0) {\n        setData(results);\n        books = results;\n      }\n    } catch (error) {\n      console.log('Hubo un error');\n    }\n  }\n  console.log(books);\n  return books;\n};\nexport default fetchData;","map":{"version":3,"names":["getData","setData","fetchData","books","length","response","fetch","data","json","results","error","console","log"],"sources":["/Users/SergioIglesias/nytype/src/services/api.ts"],"sourcesContent":["import { getData, setData } from \"./storage\";\n\nexport type booklist = {\n    display_name: string,\n    list_name: string,\n    list_name_encoded: string,\n    newest_published_date: string,\n    oldest_published_date: string,\n    updated: string\n\n}\n\n\nexport const fetchData = async () => {\n    let books = getData()\n    if (!books || books.length === 0) {\n    try {\n        const response = await fetch('https://api.nytimes.com/svc/books/v3/lists/names.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB')\n        const data = await response.json()\n        const results = data.results\n        if (results && results.length >0){\n            setData(results)\n            books = results\n        }\n    }\n    catch (error) {\n        console.log('Hubo un error')\n    }\n}\nconsole.log(books)\nreturn books\n}\nexport default fetchData\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,OAAO,QAAQ,WAAW;AAa5C,OAAO,MAAMC,SAAS,GAAG,YAAY;EACjC,IAAIC,KAAK,GAAGH,OAAO,EAAE;EACrB,IAAI,CAACG,KAAK,IAAIA,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IAClC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gGAAgG,CAAC;MAC9H,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;MAClC,MAAMC,OAAO,GAAGF,IAAI,CAACE,OAAO;MAC5B,IAAIA,OAAO,IAAIA,OAAO,CAACL,MAAM,GAAE,CAAC,EAAC;QAC7BH,OAAO,CAACQ,OAAO,CAAC;QAChBN,KAAK,GAAGM,OAAO;MACnB;IACJ,CAAC,CACD,OAAOC,KAAK,EAAE;MACVC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAChC;EACJ;EACAD,OAAO,CAACC,GAAG,CAACT,KAAK,CAAC;EAClB,OAAOA,KAAK;AACZ,CAAC;AACD,eAAeD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}