{"ast":null,"code":"import { getSavedList, setList, getSavedListDetails, setListDetails } from \"./storage\";\nexport const getNewYorkBooks = async () => {\n  let books = getSavedList();\n  if (!books || books.length === 0) {\n    try {\n      const response = await fetch('https://api.nytimes.com/svc/books/v3/lists/names.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB');\n      console.log({\n        response\n      });\n      const data = await response.json();\n      console.log({\n        data\n      });\n      const results = data.results;\n      if (results && results.length > 0) {\n        setList(results);\n        books = results;\n      }\n    } catch (error) {\n      console.log('Hubo un error');\n    }\n  }\n  return books;\n};\nexport const getListDetails = async listName => {\n  let values = getSavedListDetails(listName);\n  if (!values || values.length === 0) {\n    try {\n      const response = await fetch(`https://api.nytimes.com/svc/books/v3/lists/${listName}.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB`);\n      const data = await response.json();\n      console.log(data);\n      const results = data.results.books;\n      setListDetails(listName, results);\n      return results;\n    } catch (error) {\n      console.log('Hubo un error');\n    }\n  }\n  return values;\n};","map":{"version":3,"names":["getSavedList","setList","getSavedListDetails","setListDetails","getNewYorkBooks","books","length","response","fetch","console","log","data","json","results","error","getListDetails","listName","values"],"sources":["/Users/SergioIglesias/nytype/src/services/api.ts"],"sourcesContent":["import { getSavedList, setList, getSavedListDetails, setListDetails } from \"./storage\";\n\nexport type BooksList = {\n    display_name: string\n    list_name: string\n    list_name_encoded: string\n    newest_published_date: string\n    oldest_published_date: string\n    updated: string\n}\n\n\n\nexport const getNewYorkBooks = async () => {\n    let books: BooksList[] = getSavedList()\n\n    if (!books || books.length === 0) {\n        try {\n            const response = await fetch('https://api.nytimes.com/svc/books/v3/lists/names.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB')\n            console.log({ response })\n            const data = await response.json()\n            console.log({ data })\n            const results: BooksList[] = data.results\n\n            if (results && results.length > 0) {\n                setList(results)\n                books = results\n            }\n        }\n        catch (error) {\n            console.log('Hubo un error')\n\n        }\n    }\n    return books\n}\n\nexport const getListDetails = async (listName: string) => {\n    let values = getSavedListDetails(listName)\n    if (!values || values.length === 0) {\n    try {\n        const response = await fetch(`https://api.nytimes.com/svc/books/v3/lists/${listName}.json?api-key=KF9ASDfmvWA3uXGbVU3FIPT5iWhQoPsB`)\n        const data = await response.json()\n        console.log(data)\n        const results = data.results.books\n        setListDetails(listName, results)\n        return results\n    }\n    catch (error) {\n        console.log('Hubo un error')\n    }\n}\n\n    return values\n}"],"mappings":"AAAA,SAASA,YAAY,EAAEC,OAAO,EAAEC,mBAAmB,EAAEC,cAAc,QAAQ,WAAW;AAatF,OAAO,MAAMC,eAAe,GAAG,YAAY;EACvC,IAAIC,KAAkB,GAAGL,YAAY,EAAE;EAEvC,IAAI,CAACK,KAAK,IAAIA,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IAC9B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gGAAgG,CAAC;MAC9HC,OAAO,CAACC,GAAG,CAAC;QAAEH;MAAS,CAAC,CAAC;MACzB,MAAMI,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;MAClCH,OAAO,CAACC,GAAG,CAAC;QAAEC;MAAK,CAAC,CAAC;MACrB,MAAME,OAAoB,GAAGF,IAAI,CAACE,OAAO;MAEzC,IAAIA,OAAO,IAAIA,OAAO,CAACP,MAAM,GAAG,CAAC,EAAE;QAC/BL,OAAO,CAACY,OAAO,CAAC;QAChBR,KAAK,GAAGQ,OAAO;MACnB;IACJ,CAAC,CACD,OAAOC,KAAK,EAAE;MACVL,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAEhC;EACJ;EACA,OAAOL,KAAK;AAChB,CAAC;AAED,OAAO,MAAMU,cAAc,GAAG,MAAOC,QAAgB,IAAK;EACtD,IAAIC,MAAM,GAAGf,mBAAmB,CAACc,QAAQ,CAAC;EAC1C,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACX,MAAM,KAAK,CAAC,EAAE;IACpC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,8CAA6CQ,QAAS,gDAA+C,CAAC;MACpI,MAAML,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;MAClCH,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;MACjB,MAAME,OAAO,GAAGF,IAAI,CAACE,OAAO,CAACR,KAAK;MAClCF,cAAc,CAACa,QAAQ,EAAEH,OAAO,CAAC;MACjC,OAAOA,OAAO;IAClB,CAAC,CACD,OAAOC,KAAK,EAAE;MACVL,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAChC;EACJ;EAEI,OAAOO,MAAM;AACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}